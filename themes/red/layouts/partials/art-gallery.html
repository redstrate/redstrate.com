{{ $paginator := .Paginate (where .RegularPagesRecursive "Type" "art") }}
{{ $guest := false }}

<div class="grid">
    <div class="grid-sizer"></div>
    <div class="gutter-sizer"></div>

    {{ range $paginator.Pages }}
        {{ if in .File.Dir "art/guest" }}
            {{ $guest = true }}
        {{ else }}
            {{ partial "render-art" . }}
        {{ end }}
    {{ end }}
</div>

{{ if $guest }}
<h3>Guest Art</h3>
<hr/>
<div class="second-grid">
    <div class="grid-sizer"></div>
    <div class="gutter-sizer"></div>

    {{ range $paginator.Pages }}
        {{ if in .File.Dir "art/guest" }}
            {{ partial "render-art" . }}
        {{ end }}
    {{ end }}
</div>

{{ end }}

<div style="text-align: center;">

{{ with $paginator.Prev }}
<a style="float: left" href="{{ .URL }}">Prev</a>
{{ else }}
<span style="float: left">Prev</span>
{{ end }}

<span style="display: inline-block;">{{ printf "Page %d" $paginator.PageNumber }}</span>

{{ with $paginator.Next }}
<a style="float: right" href="{{ .URL }}">Next</a>
{{ else }}
<span style="float: right">Next</span>
{{ end }}

</div>

{{ $site := resources.Get "js/gallery.js" }}
{{ if hugo.IsProduction }}
    {{ $site = $site | minify | fingerprint | resources.PostProcess }}
{{ end }}
<script src="{{ $site.RelPermalink }}" integrity="{{ $site.Data.Integrity }}"></script>
