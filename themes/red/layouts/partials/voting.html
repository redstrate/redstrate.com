{{ $name := urlize .Title }}

{{ with .Slug }}
        {{ $name = . }}
{{ end }}

<div style="width: 100px; margin-top: 20px; margin-bottom: 20px; margin-left: auto; margin-right: auto">
        <button style="display: block; margin-left: auto; margin-right: auto" onClick="addVote({{ $name }})">Cool!</button>

        <p style="text-align: center" id="num-votes">...</p>
</div>

{{ if hugo.IsProduction }}
        {{ $site := resources.Get "js/voting.js" | minify | fingerprint | resources.PostProcess }}
        <script src="{{ $site.RelPermalink }}" integrity="{{ $site.Data.Integrity }}"></script>


        <script type="text/javascript">
                refresh({{ $name }})
        </script>
{{ else }}
        <p style="text-align: center">Voting is disabled in development mode.</p>
{{ end }}
